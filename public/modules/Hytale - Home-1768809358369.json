{
  "name": "Hytale - Home",
  "author": "Unknown",
  "supportedGames": ["all"],
  "versions": [
    {
      "tag": "latest",
      "description": "Teleport players to their bed/home location using the !home command",
      "configSchema": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{},\"required\":[],\"additionalProperties\":false}",
      "uiSchema": "{}",
      "commands": [
        {
          "function": "import { data, takaro, TakaroUserError } from '@takaro/helpers';\n\nasync function main() {\n    const { gameServerId, player } = data;\n    \n    // Execute beds command to get player's bed coordinates\n    const bedsResponse = await takaro.gameserver.gameServerControllerExecuteCommand(gameServerId, {\n        command: `beds ${player.name}`\n    });\n    \n    // Access the raw result from the response\n    const output = bedsResponse.data.data.rawResult;\n    console.log('Beds command output:', output);\n    \n    // Parse spawn coordinates (use Spawn line instead of Block for precise positioning)\n    const spawnMatch = output.match(/Spawn:\\s*X=([-\\d.]+),\\s*Y=([-\\d.]+),\\s*Z=([-\\d.]+)/i);\n    \n    if (!spawnMatch) {\n        throw new TakaroUserError('You do not have a bed set. Sleep in a bed first!');\n    }\n    \n    const x = parseFloat(spawnMatch[1]);\n    const y = parseFloat(spawnMatch[2]);\n    const z = parseFloat(spawnMatch[3]);\n    \n    console.log(`Teleporting ${player.name} to bed at x:${x} y:${y} z:${z}`);\n    \n    // Teleport the player using the teleportPlayer command\n    await takaro.gameserver.gameServerControllerExecuteCommand(gameServerId, {\n        command: `teleportPlayer ${player.name} ${x} ${y} ${z}`\n    });\n    \n    // Send welcome message\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: \"[orange]Welcome home adventurer[-]\"\n    });\n}\n\nawait main();",
          "name": "home",
          "description": "Teleport to your bed/home location",
          "trigger": "home",
          "helpText": "No help text available",
          "arguments": []
        }
      ],
      "hooks": [],
      "cronJobs": [],
      "functions": [],
      "permissions": []
    }
  ],
  "takaroVersion": "v0.4.10"
}
