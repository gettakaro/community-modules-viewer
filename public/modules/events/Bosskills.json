{
  "name": "Bosskills",
  "author": "Mad",
  "supportedGames": [
    "all"
  ],
  "versions": [
    {
      "tag": "0.1.0",
      "description": "Pay and Announcement for Bosses",
      "configSchema": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"required\":[\"coinAmountMiniBoss\"],\"additionalProperties\":false,\"properties\":{\"coinAmountTinyBoss\":{\"title\":\"coinAmountTinyBoss\",\"description\":\"Amount of Coin to award for a tinyboss\",\"default\":100,\"type\":\"number\"},\"coinAmountMiniBoss\":{\"title\":\"coinAmountMiniBoss\",\"description\":\"Amount of Coin to award for a miniboss\",\"default\":300,\"type\":\"number\"},\"coinAmountBoss\":{\"title\":\"coinAmountBoss\",\"description\":\"Amount of Coin to award for a Boss\",\"default\":500,\"type\":\"number\"},\"announceDevourer\":{\"title\":\"announceDevourer\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Devourer[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceGargul\":{\"title\":\"announceGargul\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Gargul[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBear\":{\"title\":\"announceBear\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Papa Bear[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBitch\":{\"title\":\"announceBitch\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just pimp smacked a [-][00FEED]Boss Bitch[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBurningFlesh\":{\"title\":\"announceBurningFlesh\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Burning Flesh[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCholera\":{\"title\":\"announceCholera\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Cholera[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBull\":{\"title\":\"announceBull\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Bull[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceShocker\":{\"title\":\"announceShocker\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Shocker[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceVeteran\":{\"title\":\"announceVeteran\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Veteran[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCarrier\":{\"title\":\"announceCarrier\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Carrier[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceOstiarius\":{\"title\":\"announceOstiarius\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed [-][00FEED]Patient 0[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"}}}",
      "uiSchema": "{}",
      "commands": [],
      "hooks": [
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossDevourer.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceDevourer;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Devourer",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossDevourer.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossShocker.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceShocker;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Shocker",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossShocker.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBull.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceBull;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bull",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBull.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossVeteran.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceVeteran;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Veteran",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossVeteran.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBurningFlesh.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceBurningFlesh;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "BurningFlesh",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBurningFlesh.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBitch.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBitch;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bitch",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBitch.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCarrier.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceCarrier;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Carrier",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossCarrier.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n\n    // This regex now captures the full name but stops before the numbers.\n    const regex = /Entity bossBearDaddy.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBear;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bear",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBearDaddy.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCholera.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceCholera;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Cholera",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossCholera.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity Ostiarius.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceOstiarius;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Ostiarius",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity Ostiarius.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossGargul.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceGargul;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: playerName },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Gargul",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossGargul.*"
        }
      ],
      "cronJobs": [],
      "functions": [],
      "permissions": []
    },
    {
      "tag": "latest",
      "description": "Pay and Announcement for Bosses",
      "configSchema": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"required\":[\"coinAmountMiniBoss\"],\"additionalProperties\":false,\"properties\":{\"coinAmountTinyBoss\":{\"title\":\"coinAmountTinyBoss\",\"description\":\"Amount of Coin to award for a tinyboss\",\"default\":100,\"type\":\"number\"},\"coinAmountMiniBoss\":{\"title\":\"coinAmountMiniBoss\",\"description\":\"Amount of Coin to award for a miniboss\",\"default\":300,\"type\":\"number\"},\"coinAmountBoss\":{\"title\":\"coinAmountBoss\",\"description\":\"Amount of Coin to award for a Boss\",\"default\":500,\"type\":\"number\"},\"announceDevourer\":{\"title\":\"announceDevourer\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Devourer[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceGargul\":{\"title\":\"announceGargul\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Gargul[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBear\":{\"title\":\"announceBear\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Papa Bear[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBitch\":{\"title\":\"announceBitch\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just pimp smacked a [-][00FEED]Boss Bitch[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBurningFlesh\":{\"title\":\"announceBurningFlesh\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Burning Flesh[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCholera\":{\"title\":\"announceCholera\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Cholera[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBull\":{\"title\":\"announceBull\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Bull[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceShocker\":{\"title\":\"announceShocker\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Shocker[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceVeteran\":{\"title\":\"announceVeteran\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Veteran[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCarrier\":{\"title\":\"announceCarrier\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Carrier[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceOstiarius\":{\"title\":\"announceOstiarius\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed [-][00FEED]Patient 0[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceYeti\":{\"title\":\"announceYeti\",\"description\":\"Announces boss Yeti\",\"default\":\"[B1A2CA]{pname}[-] just killed [-][00FEED]The Ancient Yeti[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"}}}",
      "uiSchema": "{}",
      "commands": [],
      "hooks": [
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossShocker.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceShocker;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Shocker",
          "description": "Kill Boss Shocker",
          "eventType": "log",
          "regex": ".*Entity bossShocker.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n\n    // This regex now captures the full name but stops before the numbers.\n    const regex = /Entity bossBearDaddy.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBear;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bear",
          "description": "Boss Bear Kill",
          "eventType": "log",
          "regex": ".*Entity bossBearDaddy.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBull.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceBull;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bull",
          "description": "Announce Bull Kill",
          "eventType": "log",
          "regex": ".*Entity bossBull.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossDevourer.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceDevourer;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Devourer",
          "description": "Boss Devourer Kill",
          "eventType": "log",
          "regex": ".*Entity bossDevourer.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBitch.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBitch;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bitch",
          "description": "Boss Bitch Kill",
          "eventType": "log",
          "regex": ".*Entity bossBitch.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossVeteran.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceVeteran;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Veteran",
          "description": "Kill Boss Veteran",
          "eventType": "log",
          "regex": ".*Entity bossVeteran.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCarrier.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceCarrier;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Carrier",
          "description": "Kill Boss Carrier",
          "eventType": "log",
          "regex": ".*Entity bossCarrier.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossGargul.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceGargul;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Gargul",
          "description": "Boss Gargul Kill",
          "eventType": "log",
          "regex": ".*Entity bossGargul.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity Ostiarius.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceOstiarius;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Ostiarius",
          "description": "Kill Boss Ostiarius",
          "eventType": "log",
          "regex": ".*Entity Ostiarius.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCholera.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceCholera;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Cholera",
          "description": "Announce Cholera Kill",
          "eventType": "log",
          "regex": ".*Entity bossCholera.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBurningFlesh.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceBurningFlesh;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "BurningFlesh",
          "description": "Burning Flesh Kill",
          "eventType": "log",
          "regex": ".*Entity bossBurningFlesh.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossAncientYeti.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceVeteran;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Yeti",
          "description": null,
          "eventType": "log",
          "regex": "takaro-hook-regex-placeholder"
        }
      ],
      "cronJobs": [],
      "functions": [],
      "permissions": []
    },
    {
      "tag": "0.1.1",
      "description": "Pay and Announcement for Bosses",
      "configSchema": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"required\":[\"coinAmountMiniBoss\"],\"additionalProperties\":false,\"properties\":{\"coinAmountTinyBoss\":{\"title\":\"coinAmountTinyBoss\",\"description\":\"Amount of Coin to award for a tinyboss\",\"default\":100,\"type\":\"number\"},\"coinAmountMiniBoss\":{\"title\":\"coinAmountMiniBoss\",\"description\":\"Amount of Coin to award for a miniboss\",\"default\":300,\"type\":\"number\"},\"coinAmountBoss\":{\"title\":\"coinAmountBoss\",\"description\":\"Amount of Coin to award for a Boss\",\"default\":500,\"type\":\"number\"},\"announceDevourer\":{\"title\":\"announceDevourer\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Devourer[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceGargul\":{\"title\":\"announceGargul\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Gargul[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBear\":{\"title\":\"announceBear\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Papa Bear[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBitch\":{\"title\":\"announceBitch\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just pimp smacked a [-][00FEED]Boss Bitch[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBurningFlesh\":{\"title\":\"announceBurningFlesh\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Burning Flesh[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCholera\":{\"title\":\"announceCholera\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Cholera[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceBull\":{\"title\":\"announceBull\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a [-][00FEED]Bull[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceShocker\":{\"title\":\"announceShocker\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Shocker[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceVeteran\":{\"title\":\"announceVeteran\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Veteran[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceCarrier\":{\"title\":\"announceCarrier\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed a[-] [00FEED]Carrier[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"},\"announceOstiarius\":{\"title\":\"announceOstiarius\",\"description\":\"Use {pname} for player name and {amount} for currency\",\"default\":\"[B1A2CA]{pname}[-] just killed [-][00FEED]Patient 0[-] and received [ADDFB3]{amount}[-] [D49F69]Twinkies[-]\",\"type\":\"string\"}}}",
      "uiSchema": "{}",
      "commands": [],
      "hooks": [
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n\n    // This regex now captures the full name but stops before the numbers.\n    const regex = /Entity bossBearDaddy.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBear;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bear",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBearDaddy.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossGargul.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceGargul;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Gargul",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossGargul.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBitch.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceBitch;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bitch",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBitch.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBurningFlesh.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceBurningFlesh;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "BurningFlesh",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBurningFlesh.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCholera.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountTinyBoss;\n    const message = data.module.userConfig.announceCholera;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Cholera",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossCholera.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossShocker.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceShocker;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Shocker",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossShocker.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossCarrier.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceCarrier;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Carrier",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossCarrier.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossDevourer.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountMiniBoss;\n    const message = data.module.userConfig.announceDevourer;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Devourer",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossDevourer.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossVeteran.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceVeteran;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Veteran",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossVeteran.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity bossBull.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceBull;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Bull",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity bossBull.*"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const logMessage = data.eventData.msg;\n    const regex = /Entity Ostiarius.*?killed by (.+?) \\d+/;\n    const matches = logMessage.match(regex);\n\n    const gameServerId = data.gameServerId;\n    const playerName = matches[1].trim(); // Use trim() to remove any trailing space.\n\n    const amountx = data.module.userConfig.coinAmountBoss;\n    const message = data.module.userConfig.announceOstiarius;\n\n    const formattedMessage = message\n        .replace('{pname}', playerName)\n        .replace('{amount}', amountx);\n\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: formattedMessage\n    });\n\n    const { data: searchResults } = await takaro.player.playerControllerSearch({\n        search: { name: [playerName] },\n    });\n\n    const foundPlayer = searchResults.data[0];\n\n    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n        gameServerId,\n        foundPlayer.id,\n        {\n            currency: amountx\n        }\n    );\n}\n\nawait main();",
          "name": "Ostiarius",
          "description": null,
          "eventType": "log",
          "regex": ".*Entity Ostiarius.*"
        }
      ],
      "cronJobs": [
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    const moduleId = data.module.moduleId;\n    const gameServerId = data.gameServerId;\n    const backfillCronjobId = '37ff7c90-89a5-4562-8909-4082aec7ef0e';\n    \n    console.log('Watchdog: Checking backfill cronjob status');\n    \n    // Check for recent backfill cronjob executions\n    const threeMinutesAgo = new Date();\n    threeMinutesAgo.setMinutes(threeMinutesAgo.getMinutes() - 3);\n    \n    console.log('Looking for executions after:', threeMinutesAgo.toISOString());\n    \n    const { data: events } = await takaro.event.eventControllerSearch({\n        filters: {\n            eventName: ['cronjob-executed'],\n            moduleId: [moduleId],\n            gameserverId: [gameServerId]\n        },\n        greaterThan: {\n            createdAt: threeMinutesAgo.toISOString()\n        },\n        sortBy: 'createdAt',\n        sortDirection: 'desc',\n        limit: 10\n    });\n    \n    console.log('Found', events.data.length, 'cronjob executions in last 3 minutes');\n    \n    // Check if any of them are the backfill cronjob\n    const backfillExecutions = events.data.filter(event => \n        event.meta?.cronjob?.id === backfillCronjobId\n    );\n    \n    console.log('Found', backfillExecutions.length, 'backfill cronjob executions');\n    \n    if (backfillExecutions.length === 0) {\n        console.log('Backfill cronjob has not run in 3 minutes! Triggering...');\n        \n        await takaro.cronjob.cronJobControllerTrigger({\n            cronjobId: backfillCronjobId,\n            moduleId: moduleId,\n            gameServerId: gameServerId\n        });\n        \n        console.log('Triggered backfill cronjob');\n        \n        await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n            message: '[FF0000]Watchdog: Restarted backfill cronjob (was stalled)'\n        });\n    } else {\n        console.log('Backfill cronjob is running normally');\n    }\n}\n\nawait main();",
          "name": "backfill-watchdog",
          "description": null,
          "temporalValue": "*/5 * * * *"
        },
        {
          "function": "import { data, takaro } from '@takaro/helpers';\n\nasync function main() {\n    console.log('STEP 1: Starting');\n    \n    const moduleId = data.module.moduleId;\n    const gameServerId = data.gameServerId;\n    const cronjobId = '37ff7c90-89a5-4562-8909-4082aec7ef0e';\n    \n    console.log('STEP 2: Got IDs');\n    console.log('moduleId:', moduleId);\n    console.log('gameServerId:', gameServerId);\n    \n    // Calculate 10 days ago\n    const tenDaysAgo = new Date();\n    tenDaysAgo.setDate(tenDaysAgo.getDate() - 10);\n    console.log('Only processing events after:', tenDaysAgo.toISOString());\n    \n    // Get progress\n    console.log('STEP 3: Getting progress variable');\n    const { data: progressVars } = await takaro.variable.variableControllerSearch({\n        filters: {\n            key: ['backfill_progress'],\n            moduleId: [moduleId],\n            gameServerId: [gameServerId]\n        }\n    });\n    \n    let currentPage = 0;\n    let processedTotal = 0;\n    let skippedTotal = 0;\n    \n    if (progressVars.data.length > 0) {\n        const progress = JSON.parse(progressVars.data[0].value);\n        currentPage = progress.page;\n        processedTotal = progress.processed;\n        skippedTotal = progress.skipped || 0;\n        console.log('Resuming from page:', currentPage);\n        console.log('Already processed:', processedTotal);\n        console.log('Already skipped (too old):', skippedTotal);\n    } else {\n        console.log('Starting fresh');\n    }\n    \n    // Fetch 1 failed event (no date filter)\n    console.log('STEP 4: Fetching events from page', currentPage);\n    const { data: eventsResponse } = await takaro.event.eventControllerGetFailedFunctions({\n        filters: { \n            moduleId: [moduleId],\n            eventName: ['hook-executed']\n        },\n        limit: 1,\n        page: currentPage\n    });\n    \n    console.log('STEP 5: Got events');\n    const events = eventsResponse.data;\n    const total = eventsResponse.meta.total;\n    console.log('Events found:', events.length);\n    console.log('Total failed events:', total);\n    \n    if (events.length === 0) {\n        console.log('No more events! Complete!');\n        await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n            message: `[00FF00]Backfill complete! Processed ${processedTotal} events, skipped ${skippedTotal} old events`\n        });\n        \n        if (progressVars.data.length > 0) {\n            await takaro.variable.variableControllerDelete(progressVars.data[0].id);\n        }\n        return;\n    }\n    \n    const event = events[0];\n    console.log('STEP 6: Processing event:', event.id);\n    console.log('Event created:', event.createdAt);\n    \n    // Check if event is within last 10 days\n    const eventDate = new Date(event.createdAt);\n    if (eventDate < tenDaysAgo) {\n        console.log('Event is older than 10 days, skipping');\n        skippedTotal++;\n        currentPage++;\n    } else {\n        const logs = event.meta.result.logs;\n        const messageLog = logs.find(log => log.msg.includes('POST /gameserver') && log.details?.args?.[0]?.body?.message);\n        \n        if (!messageLog) {\n            console.log('No message log');\n        } else {\n            const message = messageLog.details.args[0].body.message;\n            console.log('Message:', message);\n            \n            const nameMatch = message.match(/\\[[\\w]+\\](.+?)\\[-\\]/);\n            const amountMatch = message.match(/received \\[[\\w]+\\](\\d+)\\[-\\]/);\n            \n            if (nameMatch && amountMatch) {\n                const playerName = nameMatch[1];\n                const amount = parseInt(amountMatch[1]);\n                console.log('Player:', playerName, 'Amount:', amount);\n                \n                const { data: players } = await takaro.player.playerControllerSearch({\n                    search: { name: [playerName] }\n                });\n                \n                if (players.data && players.data.length > 0) {\n                    await takaro.playerOnGameserver.playerOnGameServerControllerAddCurrency(\n                        gameServerId,\n                        players.data[0].id,\n                        { currency: amount }\n                    );\n                    \n                    console.log('SUCCESS! Awarded', amount, 'to', playerName);\n                    processedTotal++;\n                }\n            }\n        }\n        \n        currentPage++;\n    }\n    \n    // Update progress\n    console.log('STEP 7: Updating progress');\n    const newProgress = {\n        page: currentPage,\n        processed: processedTotal,\n        skipped: skippedTotal,\n        total: total\n    };\n    \n    if (progressVars.data.length > 0) {\n        await takaro.variable.variableControllerUpdate(progressVars.data[0].id, {\n            value: JSON.stringify(newProgress)\n        });\n    } else {\n        await takaro.variable.variableControllerCreate({\n            key: 'backfill_progress',\n            value: JSON.stringify(newProgress),\n            moduleId: moduleId,\n            gameServerId: gameServerId\n        });\n    }\n    \n    console.log('STEP 8: Sending message');\n    await takaro.gameserver.gameServerControllerSendMessage(gameServerId, {\n        message: `[FFFF00]Backfill: ${processedTotal} processed, ${skippedTotal} skipped (checked ${currentPage}/${total})`\n    });\n    \n    console.log('STEP 9: Triggering next');\n    await takaro.cronjob.cronJobControllerTrigger({\n        cronjobId: cronjobId,\n        moduleId: moduleId,\n        gameServerId: gameServerId\n    });\n    \n    console.log('DONE');\n}\n\nawait main();",
          "name": "backfill-boss-rewards",
          "description": null,
          "temporalValue": "0 0 1 1 *"
        }
      ],
      "functions": [],
      "permissions": []
    }
  ],
  "takaroVersion": "v0.4.9"
}